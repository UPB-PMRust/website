"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3049],{82960:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"project/2025/razvan.timofte/index","title":"ColorPicky \u2014 The Rust Real-Life Color Picker","description":"A real-time color picking tool powered by Rust and Embassy for the RP2350.","source":"@site/versioned_docs/version-fils_en/project/2025/razvan.timofte/index.md","sourceDirName":"project/2025/razvan.timofte","slug":"/project/2025/razvan.timofte/","permalink":"/docs/fils_en/project/2025/razvan.timofte/","draft":false,"unlisted":false,"editUrl":"https://www.github.com/upb-pmrust/website/edit/main/website/versioned_docs/version-fils_en/project/2025/razvan.timofte/index.md","tags":[],"version":"fils_en","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"2-Player Snake","permalink":"/docs/fils_en/project/2025/razvan.beldie/"},"next":{"title":"\ud83d\udca7 Water Spitting Alarm","permalink":"/docs/fils_en/project/2025/razvan_alexandru.rizescu/"}}');var s=n(74848),t=n(28453);const d={},l="ColorPicky \u2014 The Rust Real-Life Color Picker",o={},a=[{value:"Description",id:"description",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Log",id:"log",level:2},{value:"Week \u2013 18-26 November",id:"week--18-26-november",level:3},{value:"Week \u2013 29 December - 4 January",id:"week--29-december---4-january",level:3},{value:"Week \u2013 12-18 January",id:"week--12-18-january",level:3},{value:"Hardware",id:"hardware",level:2},{value:"Schematics",id:"schematics",level:3},{value:"Bill of Materials",id:"bill-of-materials",level:3},{value:"Software",id:"software",level:2},{value:"Links",id:"links",level:2}];function c(e){const r={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"colorpicky--the-rust-real-life-color-picker",children:"ColorPicky \u2014 The Rust Real-Life Color Picker"})}),"\n",(0,s.jsx)(r.p,{children:"A real-time color picking tool powered by Rust and Embassy for the RP2350."}),"\n",(0,s.jsx)(r.admonition,{type:"info",children:(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Author"}),": Razvan Andrei Timofte ",(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)(r.strong,{children:"GitHub Project Link"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/UPB-PMRust-Students/project-dm-2025-razandtim",children:"https://github.com/UPB-PMRust-Students/project-dm-2025-razandtim"})]})}),"\n",(0,s.jsx)(r.h2,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(r.p,{children:["ColorPicky is a compact, real-time color picking tool built in ",(0,s.jsx)(r.strong,{children:"Rust"})," using ",(0,s.jsx)(r.strong,{children:"Embassy"})," on the ",(0,s.jsx)(r.strong,{children:"RP2350 (Raspberry Pi Pico 2W)"}),". It reads colors from real-world objects using a TCS34725 sensor, identifies them by name and hex code, and keeps a history of your findings. Features include:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Real-time Color Sensing"}),": Reads RGB and Clear channel data from a TCS34725 sensor"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Color Naming"}),': Matches the sampled color to the nearest known color name (e.g., "Red", "Sky Blue", "Forest Green")']}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Hex & RGB Display"}),": Shows the precise Hex code and RGB values on screen"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"History Mode"}),": Stores the last 10 saved colors in a scrollable history list"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Interactive UI"}),": Main screen with live color preview and History screen for saved colors"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Button Controls"}),": Hold for live sampling, tap to save, double tap to switch screens, long press to clear history"]}),"\n"]}),"\n",(0,s.jsx)("iframe",{width:"315",height:"560",src:"https://www.youtube.com/embed/nf3QsNqSgGU",frameborder:"0",allowfullscreen:!0}),"\n",(0,s.jsx)(r.h2,{id:"motivation",children:"Motivation"}),"\n",(0,s.jsx)(r.p,{children:"This project was inspired by practical use-cases in graphic design, photo/video color grading, and UI branding, where it is useful to capture and reuse colors from physical objects. The second goal was to gain hands-on experience with embedded Rust on RP2350 using Embassy, integrating multiple peripherals (I2C + SPI + GPIO) in a responsive application."}),"\n",(0,s.jsx)(r.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{alt:"Architecture Diagram",src:n(93317).A+"",width:"1024",height:"622"})}),"\n",(0,s.jsx)(r.p,{children:"The firmware is organized around three main components:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Sensor Module"}),": Handles periodic I2C communication with the TCS34725 color sensor, reading RGBC values and converting them to standard RGB/HEX formats with nearest-match color naming."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"UI/Display Module"}),": Manages SPI communication with the SSD1283A LCD and uses ",(0,s.jsx)(r.code,{children:"embedded-graphics"})," to render two screens:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Main Screen: Live color preview box, color name, and hex code"}),"\n",(0,s.jsx)(r.li,{children:"History Screen: Scrollable list of previously saved colors"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Input Handler"}),": Monitors the GPIO button and interprets gestures (tap, double tap, hold, long press) to control application behavior."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["All components share an ",(0,s.jsx)(r.strong,{children:"Application State"})," containing the current sampled color and a ring-buffer history of saved colors."]}),"\n",(0,s.jsx)(r.h2,{id:"log",children:"Log"}),"\n",(0,s.jsx)(r.h3,{id:"week--18-26-november",children:"Week \u2013 18-26 November"}),"\n",(0,s.jsx)(r.p,{children:"Ordered and received hardware parts (Pico 2W, TCS34725). Prepared breadboard wiring and verified power rails."}),"\n",(0,s.jsx)(r.h3,{id:"week--29-december---4-january",children:"Week \u2013 29 December - 4 January"}),"\n",(0,s.jsx)(r.p,{children:"Verified peripherals individually:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"I2C communication with the TCS34725 (basic readout and sanity checks)"}),"\n",(0,s.jsx)(r.li,{children:"SPI communication with the LCD (initialization + test drawing)"}),"\n",(0,s.jsx)(r.li,{children:"GPIO button input (debounce and stable reads)"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Set up Rust embedded environment and Embassy toolchain, configured the target, linker settings, and flashing workflow. Resolved early build/runtime issues on RP2350."}),"\n",(0,s.jsx)(r.h3,{id:"week--12-18-january",children:"Week \u2013 12-18 January"}),"\n",(0,s.jsx)(r.p,{children:"Implemented the main application logic:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Continuous sampling"}),"\n",(0,s.jsx)(r.li,{children:"RGB/HEX conversion"}),"\n",(0,s.jsx)(r.li,{children:"Color naming (nearest-match approach)"}),"\n",(0,s.jsx)(r.li,{children:"UI screens + history buffer"}),"\n",(0,s.jsx)(r.li,{children:"Input gestures (tap/double tap/long press)"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Integration + stability improvements:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Refined UI layout"}),"\n",(0,s.jsx)(r.li,{children:"Improved responsiveness"}),"\n",(0,s.jsx)(r.li,{children:"Added photos and documentation (pinout, usage, future work)"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"hardware",children:"Hardware"}),"\n",(0,s.jsx)(r.p,{children:'The project uses a Raspberry Pi Pico 2W as the main microcontroller, communicating with a TCS34725 RGB color sensor over I2C and an SSD1283A 1.6" LCD display over SPI. A push button connected to GPIO provides user input for controlling the application.'}),"\n",(0,s.jsx)(r.h3,{id:"schematics",children:"Schematics"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{alt:"KiCad ColorPicky",src:n(18481).A+"",width:"1123",height:"794"})}),"\n",(0,s.jsx)(r.h3,{id:"bill-of-materials",children:"Bill of Materials"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Device"}),(0,s.jsx)(r.th,{children:"Usage"}),(0,s.jsx)(r.th,{children:"Price"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html",children:"Raspberry Pi Pico 2W"})}),(0,s.jsx)(r.td,{children:"The microcontroller"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.tme.eu/ro/details/sc1633/raspberry-pi-sisteme-incorporate/raspberry-pi/raspberry-pi-pico-2-w/",children:"~31 RON"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.dfrobot.com/product-1546.html",children:"TCS34725 RGB Color Sensor"})}),(0,s.jsx)(r.td,{children:"Reads RGB and Clear channel data from objects"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.tme.eu/ro/details/df-sen0212/senzori-de-mediu/dfrobot/sen0212/",children:"~40 RON"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.lcdwiki.com/1.6inch_SPI_Module_SSD1283A_SKU:MSP1601",children:'SSD1283A 1.6" 130x130 SPI LCD'})}),(0,s.jsx)(r.td,{children:"Display for UI and color preview"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.emag.ro/afisaj-grafic-tft-lcd-130x130px-spi-1-6-inch-tft-16-ssd1283a-spi/pd/DBKNW6MBM/",children:"~25 RON"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Push Button"}),(0,s.jsx)(r.td,{children:"User input for controlling the application"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.optimusdigital.ro/en/buttons-and-switches/1119-6x6x6-push-button.html?search_query=push+button&results=69",children:"0.1 RON"})})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"software",children:"Software"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Library"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Usage"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/embassy-rs/embassy",children:"embassy-rp"})}),(0,s.jsx)(r.td,{children:"Embassy HAL for RP2350"}),(0,s.jsx)(r.td,{children:"Async runtime and peripheral access for Pico 2W"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/embassy-rs/embassy",children:"embassy-executor"})}),(0,s.jsx)(r.td,{children:"Embassy async executor"}),(0,s.jsx)(r.td,{children:"Task scheduling and async/await support"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/embedded-graphics/embedded-graphics",children:"embedded-graphics"})}),(0,s.jsx)(r.td,{children:"2D graphics library"}),(0,s.jsx)(r.td,{children:"Drawing UI elements, text, and color boxes to the display"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/knurling-rs/defmt",children:"defmt"})}),(0,s.jsx)(r.td,{children:"Efficient embedded logging"}),(0,s.jsx)(r.td,{children:"High-performance debug logging via probe-rs"})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"links",children:"Links"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://embassy.dev/",children:"Embassy - Rust Async Framework for Embedded"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://cdn-shop.adafruit.com/datasheets/TCS34725.pdf",children:"TCS34725 Datasheet"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.rs/embedded-graphics/latest/embedded_graphics/",children:"Embedded Graphics Documentation"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://datasheets.raspberrypi.com/rp2350/rp2350-datasheet.pdf",children:"RP2350 Datasheet"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://probe.rs/",children:"probe-rs - Embedded Debugging Toolkit"})}),"\n"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Improve naming accuracy using perceptual distance (ex. CIE Lab / \u0394E) and a larger palette"}),"\n",(0,s.jsx)(r.li,{children:"Design a compact enclosure (3D printed casing)"}),"\n",(0,s.jsx)(r.li,{children:"Add a web app"}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},93317:(e,r,n)=>{n.d(r,{A:()=>i});const i=n.p+"assets/images/architecture-067e57231cd20049cbe296d800a1d234.webp"},18481:(e,r,n)=>{n.d(r,{A:()=>i});const i=n.p+"assets/images/colorpicky-2c893ab0fede1d9851ba66c159d0d0c0.svg"},28453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>l});var i=n(96540);const s={},t=i.createContext(s);function d(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);